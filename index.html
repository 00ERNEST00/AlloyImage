<!DOCTYPE HTML>
<html lang="en">
<head>
	<meta charset="UTF-8">
  <meta name="author" content="Tencent.AlloyTeam.Dorsywang" />
  <meta name="copyright" content="Tencent.AlloyTeam" />
  <meta name="keywords" content="alloyPhoto 简约版,alloyImage,alloyPhoto,html5 canvas,alloyTeam" />
  <meta name="description" content="alloyPhoto，一款基于alloyImage库的图像处理应用,alloyImage是基于html5的图像处理js代码库。" />
  
	<title>AlloyImage</title>
  <link media="all" rel="stylesheet" href="stylesheets/main.css" type="text/css" />
</head>
<body>
<div class="wrapper">
  <header>
    <nav>
      <a href="./" id="home"></a>
      <a href="docs.html" id="docs"></a>
    </nav>
  </header>
  <section class="main">
    <article class="intro">
      <h1>
        AlloyImage 是什么
      </h1>
      <p>
        AlloyImage是基于html5技术的JS图像处理库，它集成了一些方便快捷的图像处理API。<br />
        它支持多图层操作，包括与PS对应的17种图层混合模式、多种基本滤镜处理效果、以及包括曲线命令在内的基本图像调节功能。除此之外，它还有多达十几种的组合效果用来更便捷地做图像效果处理。
      </p>
      <h1>
        AlloyPhoto 是什么
      </h1>
      <p>
       AlloyPhoto是基于AlloyImage库的Web图像处理应用，它分为简约版和专业版。它一方面是AlloyImage能力的展示，另一方面是AlloyImage不错的Demo示例。
      </p>
    </article>
  </section>
  <section class="content">
    <article class="demo">
      <h1>Demos</h1>
      <section class="demoPics">
        <div class="flashWrapper">
          <div class="flash" id="flash">
            <img src="img/4.jpg" id="pic0" alt="" />
            <img src="img/12.jpg" id="pic1" alt="" />
            <img src="img/3.jpg" id="pic2" alt="" />
            <img src="img/2.jpg" id="pic3" alt="" />
            <img src="img/10.jpg" id="pic4" alt="" />
          </div>
        </div>
        <div class="title" id="demoTitle">暖秋效果</div>
        <div class="picNav" id="picNav">
          <a href="javascript:;" class="curr">.</a>
          <a href="javascript:;">.</a>
          <a href="javascript:;">.</a>
          <a href="javascript:;">.</a>
          <a href="javascript:;">.</a>
        </div>

      </section>
    </article>
    <aside class="links">
      <h1>Links</h1>
      <div class="linksWrapper">
        <a href="alloyphoto.html" id="linkSimple"></a>
        <a href="alloyphotopro.html" id="linkPro"></a>
        <a href="https://github.com/AlloyTeam/AlloyPhoto" target="_blank" id="linkGit"></a>
      </div>
    </aside>
  </section>
  <footer>
    <section class="footerNav">
    <a href="http://www.alloyteam.com" target="_blank">AlloyTeam</a> | <a href="http://www.dorsywang.com" target="_blank">Blog</a>
    </section>
    <section class="copyright">
    Copyright ©  2013 Tencent AlloyTeam. All Rights Reserved. <br /><a target="_blank" style="text-decoration:none;" href="view-source:http://alloyteam.github.com/AlloyPhoto/"><span style="font-size:12px;color:#b7b4b4;">codeIn HTML5</span></a>
    </section>
  </footer>
  <script type="text/javascript" src="js/combined/psLib_com.js"></script>
  <script type="text/javascript">
(function(){
    var WIDTH = 559,
    HEIGHT = 432;
    var TITLE = [
      "暖秋",
      "柔焦",
      "素描",
      "紫调",
      "复古"
    ];

    var Tools = {
      each: function(els, func){
        for(var i = 0,n = els.length;i < n;i ++){
          func.call(els[i], i);
        }
      },

      addClass: function(el, className){
        if(el.className.match(className)){
        }else{
          el.className += " " + className;
        }
      },

      removeClass: function(el, className){
        el.className = el.className.replace(new RegExp(" ?" + className), "");
      }
    };

    var Flash = {
      el: null,//元素
      curr: 0,

      init: function(){
        this.el = document.getElementById("flash");
        this.curr = 0;
        this.doCache();
        this.start();
        this.eventAtt();
      },

      start: function(){
        var _this = this;
        clearInterval(this.timer);
        this.timer = setInterval(move,3000);

        function move(){
            _this.curr ++;
            _this.curr %= 5;

            _this.moveTo(_this.curr);
        }

      },

      moveTo: function(i){
        this.el.style.left = -(i * WIDTH) + "px";
        this.showInfo(i);
      },

      showInfo: function(i){
          var as = document.getElementById("picNav").getElementsByTagName("a");
          Tools.each(as, function(){
              Tools.removeClass(this, "curr");
          });

          Tools.addClass(as[i], "curr");
          var demoTitle = document.getElementById("demoTitle");
          demoTitle.innerHTML = TITLE[i] + "效果";
      },

      stop: function(){
        clearInterval(this.timer);
      },

      eventAtt: function(){
          var as = document.getElementById("picNav").getElementsByTagName("a");
          var _this = this, timer;
          Tools.each(as, function(i){
              this.onclick = function(){
                return function(){
                  _this.stop();
                  _this.moveTo(i);
                  _this.curr = i;

                  clearTimeout(timer);
                  timer = setTimeout(function(){
                      _this.start();
                  }, 2000);
                };
              }();
          });

          Tools.each(document.getElementById("flash").getElementsByTagName("img"), function(i){
              this.onmouseover = function(){
                return function(){

                  _this.stop();
                   _this.cache[i].new.replace(this);

                };
              }();

              this.onmouseout = function(){
                return function(){

                   _this.cache[i].old.replace(this);
                   _this.start();

                };
              }();
          });
      },

      doCache: function(){//预处理
         var _this = this,
         img = document.getElementById("flash").getElementsByTagName("img");
         _this.cache =[];

          Tools.each(TITLE, function(i){
              _this.cache[i] = {
                old: AlloyImage(img[i]),
                new: AlloyImage(img[i]).ps(this)
              };
          });
     }
    };
    window.onload = function(){
      Flash.init();
    };
 })();
  </script>
</div>
</body>
</html>
